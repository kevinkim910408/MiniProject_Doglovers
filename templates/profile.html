<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">


        <!-- LINK CSS -->
        <link rel="stylesheet" href="../static/profile.css">


        <!-- Google Material - Icon -->
        <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
        <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
                integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
                crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
                integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
                crossorigin="anonymous"></script>


        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>강아지 모여모여</title>
    </head>

    <script>
        //프로필 페이지에서 프로필 수정을 눌렀을때 프로필 수정 페이지로 넘어가는 기능  a링크로 연결 (완료)


        //프로필 페이지에서 로그아웃 눌렀을때 로그아웃 창이 나타난 후 로그인 페이지로 넘어가는 기능  승준님이 만들어주신거 활용(완료)

        function sign_out() {

            $.removeCookie('mytoken', {path: '/'});

            alert('로그아웃!')

            window.location.href = "/login"
        }

        // 웹페이지 로딩될때 시작할 코드
        $(document).ready(function () {
            bsCustomFileInput.init()  // 파일 업로드할때 파일 이름 보여주는 기능
        })

        //프로필 페이지 : image, ID, name, dog_breed, age, 회원가입 정보를 가져와야 함 (+프로필 수정 탭, 로그아웃 탭)

        $(document).ready(function () {
            show_profile();
        });

        function show_profile() {
            $.ajax({
                type: 'GET',
                url: '/show_profile',
                data: {},
                success: function (response) {
                    let posts = response['all_post']
                    for (let i = 0; i < posts.length; i++) {
                        let username = posts[i]['username']
                        let userdog = posts[i]['userdog']
                        let age = posts[i]['age']
                        let file = posts[i]['file']
                        let profile = posts[i]['profile']

                        let temp_html = `    <div class="wrap">
    <div class="card">
        <div class="card-header">
            <a class="image is-64x64" href="/profile" style="padding : 7px;">
                <img class="is-rounded" src=${profile}>
            </a>
            <div class="content">
                <p style="line-height: 2;">
                    <strong>${username}</strong> <small>${time}</small>
                </p>
                <p style="line-height: 0;">
                    <small>${userdog}(${age})</small>
                </p>
            </div>
        </div>
        <div class="card-image"style="width: 700px">
            <img src=${file}>
        </div>
        <div class="card-body">
            <p class="card-text" style="margin: 5px 0 0 15px">${comment}</p>
        </div>
        <nav class="level is-mobile">
            <div class="level-left"style="margin: 0 0 0 15px; padding :0px">
                <a class="level-item is-sparta" aria-label="heart" onclick="toggle_like('', 'heart')">
                                <span class="icon is-small"><i class="fa fa-heart"
                                                               aria-hidden="true"></i></span>&nbsp;<span
                        class="like-num">2.7k</span>
                </a>
                <button class="button is-light">댓글 보기</button>
            </div>

        </nav>
    </div>
</div>`
                        $('#wrapwrap').append(temp_html)
                    }
                }
            })
        }


        //프로필 수정 페이지 : image, ID, name, dog_breed, age 정보를 가져온 후 수정  / 입력할 수 있는 창을 띄워주고(dbprac 내용 활용)


        //다른 사람 프로필 페이지: 프로필 페이지와 동일한 기능 + 4주차 강의 활용해서 내가 아닐 경우 프로필 수정, 로그아웃 탭 없어지게 기능 구현


    </script>




    <body>
    <!-- 사람 프로필-->
    <div class="profile">

        <div class="container_A">
            <div class="profile_img">
                <img src="https://us.123rf.com/450wm/tuktukdesign/tuktukdesign1608/tuktukdesign160800043/61010830-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%95%84%EC%9D%B4%EC%BD%98-%EB%82%A8%EC%9E%90-%ED%94%84%EB%A1%9C%ED%95%84-%EC%82%AC%EC%97%85%EA%B0%80-%EC%95%84%EB%B0%94%ED%83%80-%EC%82%AC%EB%9E%8C-%EB%AC%B8%EC%96%91-%EB%B2%A1%ED%84%B0-%EC%9D%BC%EB%9F%AC%EC%8A%A4%ED%8A%B8-%EB%A0%88%EC%9D%B4-%EC%85%98.jpg?ver=6"
                     width="300" height="300" alt="..." class="rounded-circle">
            </div>

            <div class="profile_content">
                <ul>
                    <li>ID(닉네임)</li>
                    <li>반려동물 이름</li>
                    <li>반려동물 견종</li>
                    <li>반려동물 나이</li>
                </ul>
            </div>
        </div>

        <!--프로필 수정 및 로그아웃-->
        {%  if status %}
            <div class="container_B">
            <div class="profile_bottom">
                <a href="profile_change.html" class="profile_change">프로필 수정</a>
                <a href="#" class="logout">로그아웃</a>
            </div>
        </div>
        {% endif %}
    </div>


    <!--게시글 모아보기-->
    <div class="cards-box">
        <div class="card">
            <img class="card-img-top" src="..." alt="Card image cap">
        </div>
        <div class="card">
            <img class="card-img-top" src="..." alt="Card image cap">
        </div>
        <div class="card">
            <img class="card-img-top" src="..." alt="Card image cap">
        </div>
    </div>

    </body>
    </html>